(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{619:(e,t,r)=>{"use strict";r.d(t,{OrderProvider:()=>l,S:()=>d});var s=r(5155),a=r(2115);let n=(0,a.createContext)(void 0),i="myOrderTokens",o="allOrders",l=e=>{let{children:t}=e,[r,l]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(i);e&&m(JSON.parse(e));let t=localStorage.getItem(o);t&&c(JSON.parse(t))}catch(e){console.error("Could not read from localStorage",e)}},[]);let f=d.filter(e=>u.includes(e.token)).sort((e,t)=>t.timestamp-e.timestamp),x=e=>{l(t=>t.filter(t=>t.id!==e))},h=()=>{l([])},p=r.reduce((e,t)=>e+t.price*t.quantity,0),g=r.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(n.Provider,{value:{cart:r,orders:d,myOrders:f,addToCart:e=>{l(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:x,updateQuantity:(e,t)=>{t<=0?x(e):l(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:h,placeOrder:(e,t)=>{let s=String(Math.floor(9e3*Math.random())+1e3),a={token:s,items:r,customerName:e||"Guest",customerPhone:t,total:p,timestamp:Date.now(),status:"new"};c(e=>{let t=[a,...e];try{localStorage.setItem(o,JSON.stringify(t))}catch(e){console.error("Could not write to localStorage",e)}return t});let n=[...u,s];m(n);try{localStorage.setItem(i,JSON.stringify(n))}catch(e){console.error("Could not write to localStorage",e)}return h(),s},completeOrder:e=>{c(t=>{let r=t.map(t=>t.token===e?{...t,status:"completed"}:t);try{localStorage.setItem(o,JSON.stringify(r))}catch(e){console.error("Could not write to localStorage",e)}return r})},cartTotal:p,cartCount:g},children:t})},d=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useOrder must be used within an OrderProvider");return e}},1647:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(5155);r(2115);var a=r(3101),n=r(4269);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(7129),i=r(3101),o=r(4269);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},5036:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var s=r(5155),a=r(5189),n=r(619),i=r(3998),o=r(1647),l=r(2619),d=r.n(l),c=r(63);function u(){let{myOrders:e}=(0,n.S)(),t="/my-orders"===(0,c.usePathname)(),r=e.filter(e=>"new"===e.status).length;return(0,s.jsx)(i.$,{variant:t?"default":"ghost",asChild:!0,className:"relative",children:(0,s.jsxs)(d(),{href:"/my-orders",className:"flex items-center gap-2",children:[(0,s.jsx)(a.A,{}),r>0&&(0,s.jsx)(o.E,{variant:t?"secondary":"default",className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0",children:r})]})})}},5116:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(5155),a=r(619),n=r(6948),i=r(3998),o=r(2619),l=r.n(o),d=r(5359),c=r(6259),u=r(8181),m=r(8527),f=r(5218),x=r(4269),h=r(2115);function p(e){let{order:t}=e,r=new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:["new"===t.status?(0,s.jsx)(u.A,{className:"h-6 w-6 text-primary animate-spin"}):(0,s.jsx)(m.A,{className:"h-6 w-6 text-accent"}),"Order #",t.token]}),(0,s.jsx)("span",{className:(0,x.cn)("text-sm font-semibold px-3 py-1 rounded-full","new"===t.status?"bg-primary/10 text-primary":"bg-accent/10 text-accent"),children:"new"===t.status?"In Progress":"Completed"})]}),(0,s.jsxs)(n.BT,{children:["Placed at ",r]})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[t.items.map(e=>(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[e.name," x ",e.quantity]}),(0,s.jsxs)("span",{children:["INR ",e.price*e.quantity]})]},e.id)),(0,s.jsx)(c.Separator,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,s.jsx)("span",{children:"Total Paid"}),(0,s.jsxs)("span",{children:["INR ",t.total]})]})]})})]})}function g(){let{myOrders:e}=(0,a.S)(),[t,r]=(0,h.useState)(!1);return((0,h.useEffect)(()=>{r(!0)},[]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.F,{}),(0,s.jsxs)("main",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold font-headline text-primary",children:"My Orders"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground mt-2",children:"Here's a list of your recent orders."})]}),e.length>0?(0,s.jsx)("div",{className:"max-w-2xl mx-auto space-y-6",children:e.map(e=>(0,s.jsx)(p,{order:e},e.token))}):(0,s.jsxs)("div",{className:"text-center py-16 bg-background rounded-lg border-2 border-dashed flex flex-col items-center justify-center",children:[(0,s.jsx)(f.A,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"You haven't placed any orders yet."}),(0,s.jsx)(i.$,{asChild:!0,className:"mt-4",children:(0,s.jsx)(l(),{href:"/menu",children:"Go to Menu"})})]})]})]}):null}},5359:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var s=r(5155),a=r(2619),n=r.n(a),i=r(5373),o=r(5036),l=r(3998),d=r(6204);function c(){return(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,s.jsxs)(n(),{href:"/menu",children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Back to Menu"]})})}),(0,s.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.C,{}),(0,s.jsx)(i.D,{})]})]})})}},5373:(e,t,r)=>{"use strict";r.d(t,{D:()=>u});var s=r(5155),a=r(5218),n=r(619),i=r(3998),o=r(1647),l=r(2619),d=r.n(l),c=r(63);function u(){let{cartCount:e}=(0,n.S)(),t="/my-cart"===(0,c.usePathname)();return(0,s.jsx)(i.$,{variant:t?"default":"ghost",asChild:!0,className:"relative",children:(0,s.jsxs)(d(),{href:"/my-cart",className:"flex items-center gap-2",children:[(0,s.jsx)(a.A,{}),e>0&&(0,s.jsx)(o.E,{variant:t?"secondary":"default",className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0",children:e})]})})}},5979:(e,t,r)=>{Promise.resolve().then(r.bind(r,5116))},6259:(e,t,r)=>{"use strict";r.d(t,{Separator:()=>o});var s=r(5155),a=r(2115),n=r(7268),i=r(4269);let o=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:o=!0,...l}=e;return(0,s.jsx)(n.b,{ref:t,decorative:o,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...l})});o.displayName=n.b.displayName},6948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(5155),a=r(2115),n=r(4269);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"}},e=>{e.O(0,[909,619,437,441,255,358],()=>e(e.s=5979)),_N_E=e.O()}]);