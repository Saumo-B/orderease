(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{619:(e,t,r)=>{"use strict";r.d(t,{OrderProvider:()=>d,S:()=>i});var s=r(5155),a=r(2115);let l=(0,a.createContext)(void 0),n="myOrderTokens",o="allOrders",d=e=>{let{children:t}=e,[r,d]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[m,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);e&&u(JSON.parse(e));let t=localStorage.getItem(o);t&&c(JSON.parse(t))}catch(e){console.error("Could not read from localStorage",e)}},[]);let x=i.filter(e=>m.includes(e.token)).sort((e,t)=>t.timestamp-e.timestamp),f=e=>{d(t=>t.filter(t=>t.id!==e))},h=()=>{d([])},g=r.reduce((e,t)=>e+t.price*t.quantity,0),p=r.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(l.Provider,{value:{cart:r,orders:i,myOrders:x,addToCart:e=>{d(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:f,updateQuantity:(e,t)=>{t<=0?f(e):d(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:h,placeOrder:(e,t)=>{let s=String(Math.floor(9e3*Math.random())+1e3),a={token:s,items:r,customerName:e||"Guest",customerPhone:t,total:g,timestamp:Date.now(),status:"new"};c(e=>{let t=[a,...e];try{localStorage.setItem(o,JSON.stringify(t))}catch(e){console.error("Could not write to localStorage",e)}return t});let l=[...m,s];u(l);try{localStorage.setItem(n,JSON.stringify(l))}catch(e){console.error("Could not write to localStorage",e)}return h(),s},completeOrder:e=>{c(t=>{let r=t.map(t=>t.token===e?{...t,status:"completed"}:t);try{localStorage.setItem(o,JSON.stringify(r))}catch(e){console.error("Could not write to localStorage",e)}return r})},cartTotal:g,cartCount:p},children:t})},i=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useOrder must be used within an OrderProvider");return e}},3971:(e,t,r)=>{Promise.resolve().then(r.bind(r,8872))},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var s=r(5155),a=r(2115),l=r(7129),n=r(3101),o=r(4269);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:i=!1,...c}=e,m=i?l.DX:"button";return(0,s.jsx)(m,{className:(0,o.cn)(d({variant:a,size:n,className:r})),ref:t,...c})});i.displayName="Button"},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2821),a=r(5889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},6259:(e,t,r)=>{"use strict";r.d(t,{Separator:()=>o});var s=r(5155),a=r(2115),l=r(7268),n=r(4269);let o=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:o=!0,...d}=e;return(0,s.jsx)(l.b,{ref:t,decorative:o,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...d})});o.displayName=l.b.displayName},6948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o,wL:()=>m});var s=r(5155),a=r(2115),l=r(4269);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});i.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});m.displayName="CardFooter"},8872:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(6948),l=r(619),n=r(3998),o=r(8527),d=r(8181),i=r(4269),c=r(2115),m=r(8533);let u=c.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(m.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",r),...l,children:[(0,s.jsx)(m.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(x,{}),(0,s.jsx)(m.OK,{})]})});u.displayName=m.bL.displayName;let x=c.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...l}=e;return(0,s.jsx)(m.VM,{ref:t,orientation:a,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...l,children:(0,s.jsx)(m.lr,{className:"relative flex-1 rounded-full bg-border"})})});function f(e){let{order:t}=e,{completeOrder:r}=(0,l.S)(),c=new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(a.Zp,{className:(0,i.cn)("flex flex-col transition-all","completed"===t.status?"bg-muted/50 border-dashed":"bg-card"),children:[(0,s.jsx)(a.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(a.ZB,{className:"font-headline text-2xl flex items-center gap-2",children:["completed"===t.status?(0,s.jsx)(o.A,{className:"text-accent"}):(0,s.jsx)(d.A,{className:"text-primary animate-spin"}),"#",t.token]}),(0,s.jsxs)(a.BT,{children:["For: ",t.customerName," (",t.customerPhone,") at ",c]})]}),(0,s.jsxs)("div",{className:"text-lg font-bold text-right text-primary",children:["INR ",t.total]})]})}),(0,s.jsx)(a.Wu,{className:"flex-grow",children:(0,s.jsx)(u,{className:"h-32 pr-4",children:(0,s.jsx)("ul",{className:"space-y-1 text-sm",children:t.items.map(e=>(0,s.jsx)("li",{className:"flex justify-between",children:(0,s.jsxs)("span",{children:[e.quantity,"x ",e.name]})},e.id))})})}),(0,s.jsxs)(a.wL,{children:["new"===t.status&&(0,s.jsxs)(n.$,{className:"w-full bg-accent text-accent-foreground hover:bg-accent/90",onClick:()=>r(t.token),children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Mark as Complete"]}),"completed"===t.status&&(0,s.jsx)("p",{className:"w-full text-center text-sm text-muted-foreground",children:"Order fulfilled."})]})]})}x.displayName=m.VM.displayName;var h=r(45),g=r(6259);function p(){let{orders:e}=(0,l.S)(),t=e.filter(e=>"new"===e.status),r=e.filter(e=>"completed"===e.status);return(0,s.jsxs)("div",{className:"min-h-screen bg-muted/40",children:[(0,s.jsx)("header",{className:"bg-background shadow-sm sticky top-0 z-10",children:(0,s.jsx)("div",{className:"container mx-auto p-4 flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Kitchen"})]})})}),(0,s.jsxs)("main",{className:"container mx-auto p-4 md:p-8",children:[(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold font-headline text-primary mb-4",children:["New Orders (",t.length,")"]}),t.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,s.jsx)(f,{order:e},e.token))}):(0,s.jsx)("div",{className:"text-center py-16 bg-background rounded-lg",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No new orders at the moment."})})]}),(0,s.jsx)(g.Separator,{className:"my-12"}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold font-headline text-muted-foreground mb-4",children:["Completed Orders (",r.length,")"]}),r.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>(0,s.jsx)(f,{order:e},e.token))}):(0,s.jsx)("div",{className:"text-center py-16 bg-background rounded-lg",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No orders have been completed yet."})})]})]})]})}}},e=>{e.O(0,[909,301,734,441,255,358],()=>e(e.s=3971)),_N_E=e.O()}]);